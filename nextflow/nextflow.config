// Nextflow configuration file

params {
    // Input/Output
    input_dir = "test_data/ont_data"
    outdir = "results"
    
    // Resources
    threads = 30
    memory = '60.GB'
}

// Process configuration
process {
    // Default settings
    cpus = { params.threads }
    memory = { params.memory }
    time = '2h'
    
    // NanoPlot process
    withName: 'NANOPLOT' {
        cpus = 30
        memory = '60.GB'
        publishDir = [
            path: "${params.outdir}/01_QC/nanoplot",
            mode: 'copy'
        ]
    }
}

// Execution profiles
profiles {
    docker {
        docker.enabled = true
        process {
            withName: 'NANOPLOT' {
                container = 'quay.io/biocontainers/nanoplot:1.41.0--pyhdfd78af_0'
            }
        }
    }
}

// Reporting
timeline.enabled = true
report.enabled = true
trace.enabled = true

timeline.file = "${params.outdir}/timeline.html"
report.file = "${params.outdir}/report.html"
trace.file = "${params.outdir}/trace.txt"

// Overwrite existing files
timeline.overwrite = true
report.overwrite = true
trace.overwrite = true